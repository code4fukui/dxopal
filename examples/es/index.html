<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width">

<canvas id="dxopal-canvas"></canvas>
<div id="dxopal-errors"></div>

<button id=btnrun>RUN</button>

<script type="module">
import { Opal } from "../../build/dxopal.js"

btnrun.onclick = () => {
  const s = Opal.compile(`#require 'dxopal'
  
def alert(s)
  %x{
    alert(#{s})
  }
end

alert "abc"
for i in 1..4
  sleep 1
end
`);
console.log(s);
eval(s);
};

</script>
